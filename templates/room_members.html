<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spiders Welcome</title>
    <style>
        img {
            height: 25px;
        }
    </style>
    {{ template "room_header:css" }}
</head>
<body>

{{ template "room_header.html" .Room }}

<table>

    <thead>
        <tr>
            <td>MXID</td>
            <td>Avatar</td>
            <td>Display Name</td>
            <td>Power Level</td>
        </tr>
    </thead>

    {{ .Room.GetNumMemberEvents }} users have interacted with this room.

    {{ range $memberInfo := .MemberInfo }}
        {{ if eq $memberInfo.Membership "join" }}
            <tr>
                <td><a href="./members/{{$memberInfo.MXID}}">{{ $memberInfo.MXID }}</a></td>
                <td>
                    {{ with $memberInfo.AvatarURL }}
                        <img src="{{ MXCtoThumbUrl . }}" />
                    {{ else }}
                        <img src="../../../img/logo_missing.png" />
                    {{ end }}
                </td>
                <td>{{ $memberInfo.DisplayName }}</td>
                <td>{{ $memberInfo.PowerLevel.String }} ({{ $memberInfo.PowerLevel.ToInt }})</td>
            </tr>
        {{ end }}
    {{ end }}

</table>

{{ template "back_to_room_list" }}

</body>
</html>